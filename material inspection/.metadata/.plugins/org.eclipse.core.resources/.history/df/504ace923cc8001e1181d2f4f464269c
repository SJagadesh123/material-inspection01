<jsp:include page="header.jsp"></jsp:include>
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
	pageEncoding="ISO-8859-1"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib uri="http://www.springframework.org/tags/form" prefix="form"%>

<%@ page import="java.util.*"%>
<%@ page import="com.zettamine.mi.entities.Plant"%>

<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet" href="/css/search-list.css" />
<style type="text/css">
h3 {
	text-align: center;
}
 .red-text {
            color: red;
        }
</style>
<title>Approval</title>
</head>
<body>
	<h3>Inspection Actuals Comparison</h3>
	<br>
	<input type="button" value="Back"
		onclick="window.location.href='/material-inspection/inspection/pending'">
	<table class="search-results">
		<thead>
			<tr>
				<th>Characteristic Name</th>
				<th>UOM</th>
				<th>Tolerance Upper limit </th>
				<th>Tolerance Lower limit</th>
				<th>Max Measurement</th>
				<th>Min Measurement</th>
				
			</tr>
		</thead>
		<tbody>

			<c:forEach var="charItem" items="${characteristics}">
				<c:forEach var="actualItem" items="${inspectionActual}">
					<c:if test="${charItem.chId eq actualItem.materialCharacteristic.chId}">
						<tr>
							<td><c:out value="${charItem.chDesc}" /></td>
							<td><c:out value="${charItem.uom}" /></td>
							<td><c:out value="${charItem.upperLimit}" /></td>
							<td><c:out value="${charItem.lowerLimit}" /></td>
							<td
								<c:if test="${actualItem.maxMeasurement gt charItem.upperLimit}">
                                class="red-text"
                            </c:if>>
								<c:out value="${actualItem.maxMeasurement}" />
							</td>
							
							<td
								<c:if test="${actualItem.minMeasurement lt charItem.lowerLimit}">
                                class="red-text"
                            </c:if>>
								<c:out value="${actualItem.minMeasurement}" />
							</td>
						</tr>
					</c:if>
					
					
				</c:forEach>
			</c:forEach>


		</tbody>
	</table>
	
	
	<form:form action="" method="post" class="form"
		modelAttribute="inspectionLot">
		<h3>Approval Form</h3>

		<table>
			<tr>
				<td><form:input type="hidden" path="inspectionLotId"
						required="required" value="${inspectionLot.getInspectionLotId()}" /></td>


			</tr>
			
			
				<tr>
					<td><label>Remarks</label></td>
					<td><form:input type="text"
							path="inspectionRemarks" /></td>
				</tr>
				<tr>
				<td><label>Result</label></td>
				<td><form:input type="text" path="inspectionResult" /></td>
				</tr>

			<tr>
				<td><button type="submit">Add</button></td>
				<td><button type="reset">Reset</button></td>
				<td><button type="button"
						onclick="window.location.href='/material-inspection/inspection/pending'">Cancel</button></td>
			</tr>

		</table>


	</form:form>


</body>
</html>